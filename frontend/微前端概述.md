## 前言

微前端目前的实现有两种，一种是静态打包分析，一种是运行时加载。而工业上几乎不会使用前者，我们这篇文章主要讲运行时的加载。

## jsEntry

`js-entry`是微前端实现的两种方式之一，它的步骤很简单：

1. 打包`sub-app`的`jsbundle`包。
2. 在主应用下建立路由。
3. 拦截`history api`，实现框架路由，以达到在路由切换时匹配并加载子应用。
4. 子应用调用框架的api，实现`dom`的挂载。（这一步实际上不需要太多操作，只需要创建容器元素，然后调用子应用框架内置的`render`函数即可）
5. 框架管理各个子应用生命周期。



### 路由匹配

我们以最出名的微前端框架`single-spa`来举例子。

